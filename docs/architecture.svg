<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Frontend Layer -->
  <rect x="50" y="50" width="1100" height="150" fill="#e3f2fd" stroke="#1976d2" stroke-width="2" rx="10"/>
  <text x="600" y="30" text-anchor="middle" font-size="20" font-weight="bold" fill="#1976d2">Frontend (Next.js)</text>
  <!-- Frontend Components -->
  <rect x="70" y="80" width="160" height="80" fill="#ffffff" stroke="#1976d2" stroke-width="1" rx="5"/>
  <text x="150" y="115" text-anchor="middle" font-size="14" fill="#000">React Components</text>
  <text x="150" y="135" text-anchor="middle" font-size="12" fill="#666">UI/UX Layer</text>
  <rect x="250" y="80" width="160" height="80" fill="#ffffff" stroke="#1976d2" stroke-width="1" rx="5"/>
  <text x="330" y="115" text-anchor="middle" font-size="14" fill="#000">ag-ui Protocol</text>
  <text x="330" y="135" text-anchor="middle" font-size="12" fill="#666">Event Streaming</text>
  <rect x="430" y="80" width="160" height="80" fill="#ffffff" stroke="#1976d2" stroke-width="1" rx="5"/>
  <text x="510" y="115" text-anchor="middle" font-size="14" fill="#000">CopilotKit</text>
  <text x="510" y="135" text-anchor="middle" font-size="12" fill="#666">AI Assistant</text>
  <rect x="610" y="80" width="160" height="80" fill="#ffffff" stroke="#1976d2" stroke-width="1" rx="5"/>
  <text x="690" y="115" text-anchor="middle" font-size="14" fill="#000">React DnD</text>
  <text x="690" y="135" text-anchor="middle" font-size="12" fill="#666">Drag & Drop</text>
  <rect x="790" y="80" width="160" height="80" fill="#ffffff" stroke="#1976d2" stroke-width="1" rx="5"/>
  <text x="870" y="115" text-anchor="middle" font-size="14" fill="#000">Socket.io Client</text>
  <text x="870" y="135" text-anchor="middle" font-size="12" fill="#666">Real-time Updates</text>
  <!-- Communication Layer -->
  <rect x="50" y="230" width="1100" height="80" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="10"/>
  <text x="600" y="210" text-anchor="middle" font-size="20" font-weight="bold" fill="#f57c00">Communication Layer</text>
  <rect x="200" y="250" width="300" height="40" fill="#ffffff" stroke="#f57c00" stroke-width="1" rx="5"/>
  <text x="350" y="275" text-anchor="middle" font-size="14" fill="#000">REST API (HTTP/HTTPS)</text>
  <rect x="700" y="250" width="300" height="40" fill="#ffffff" stroke="#f57c00" stroke-width="1" rx="5"/>
  <text x="850" y="275" text-anchor="middle" font-size="14" fill="#000">WebSocket (WS/WSS)</text>
  <!-- Backend Layer -->
  <rect x="50" y="340" width="1100" height="200" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" rx="10"/>
  <text x="600" y="320" text-anchor="middle" font-size="20" font-weight="bold" fill="#4caf50">Backend (NestJS)</text>
  <!-- Backend Components -->
  <rect x="70" y="370" width="200" height="80" fill="#ffffff" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="170" y="405" text-anchor="middle" font-size="14" fill="#000">Authentication</text>
  <text x="170" y="425" text-anchor="middle" font-size="12" fill="#666">JWT/OAuth2.0</text>
  <rect x="290" y="370" width="200" height="80" fill="#ffffff" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="390" y="405" text-anchor="middle" font-size="14" fill="#000">LangGraph Workflow</text>
  <text x="390" y="425" text-anchor="middle" font-size="12" fill="#666">State Machine</text>
  <rect x="510" y="370" width="200" height="80" fill="#ffffff" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="610" y="405" text-anchor="middle" font-size="14" fill="#000">AI Agents</text>
  <text x="610" y="425" text-anchor="middle" font-size="12" fill="#666">LangChain Integration</text>
  <rect x="730" y="370" width="200" height="80" fill="#ffffff" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="830" y="405" text-anchor="middle" font-size="14" fill="#000">Event System</text>
  <text x="830" y="425" text-anchor="middle" font-size="12" fill="#666">ag-ui Protocol</text>
  <rect x="950" y="370" width="180" height="80" fill="#ffffff" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="1040" y="405" text-anchor="middle" font-size="14" fill="#000">Data Layer</text>
  <text x="1040" y="425" text-anchor="middle" font-size="12" fill="#666">Prisma ORM</text>
  <!-- Service Components -->
  <rect x="70" y="460" width="150" height="60" fill="#f5f5f5" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="145" y="490" text-anchor="middle" font-size="12" fill="#000">Research Service</text>
  <rect x="240" y="460" width="150" height="60" fill="#f5f5f5" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="315" y="490" text-anchor="middle" font-size="12" fill="#000">Outline Service</text>
  <rect x="410" y="460" width="150" height="60" fill="#f5f5f5" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="485" y="490" text-anchor="middle" font-size="12" fill="#000">Content Service</text>
  <rect x="580" y="460" width="150" height="60" fill="#f5f5f5" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="655" y="490" text-anchor="middle" font-size="12" fill="#000">Refinement Service</text>
  <rect x="750" y="460" width="150" height="60" fill="#f5f5f5" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="825" y="490" text-anchor="middle" font-size="12" fill="#000">Export Service</text>
  <!-- External Services -->
  <rect x="50" y="570" width="1100" height="150" fill="#fff8e1" stroke="#ffa000" stroke-width="2" rx="10"/>
  <text x="600" y="550" text-anchor="middle" font-size="20" font-weight="bold" fill="#ffa000">External Services</text>
  <rect x="70" y="600" width="200" height="80" fill="#ffffff" stroke="#ffa000" stroke-width="1" rx="5"/>
  <text x="170" y="635" text-anchor="middle" font-size="14" fill="#000">OpenAI API</text>
  <text x="170" y="655" text-anchor="middle" font-size="12" fill="#666">GPT-4 Turbo</text>
  <rect x="290" y="600" width="200" height="80" fill="#ffffff" stroke="#ffa000" stroke-width="1" rx="5"/>
  <text x="390" y="635" text-anchor="middle" font-size="14" fill="#000">Tavily API</text>
  <text x="390" y="655" text-anchor="middle" font-size="12" fill="#666">Market Research</text>
  <rect x="510" y="600" width="200" height="80" fill="#ffffff" stroke="#ffa000" stroke-width="1" rx="5"/>
  <text x="610" y="635" text-anchor="middle" font-size="14" fill="#000">PostgreSQL</text>
  <text x="610" y="655" text-anchor="middle" font-size="12" fill="#666">Neon Database</text>
  <rect x="730" y="600" width="200" height="80" fill="#ffffff" stroke="#ffa000" stroke-width="1" rx="5"/>
  <text x="830" y="635" text-anchor="middle" font-size="14" fill="#000">Google OAuth</text>
  <text x="830" y="655" text-anchor="middle" font-size="12" fill="#666">Authentication</text>
  <rect x="950" y="600" width="180" height="80" fill="#ffffff" stroke="#ffa000" stroke-width="1" rx="5"/>
  <text x="1040" y="635" text-anchor="middle" font-size="14" fill="#000">File Storage</text>
  <text x="1040" y="655" text-anchor="middle" font-size="12" fill="#666">AWS S3 / Cloudinary</text>
  <!-- Connection Lines -->
  <line x1="600" y1="200" x2="350" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="200" x2="850" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="350" y1="290" x2="350" y2="370" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="850" y1="290" x2="850" y2="370" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="390" y1="450" x2="390" y2="600" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="610" y1="450" x2="170" y2="600" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
</svg>